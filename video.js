const videoData = [
    //belle
  { 
    src: "biglaan.mp4",
    thumb: "images/thumbnails/belle/biglaan.png",
    title: "Biglaan",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Bugambilya.mp4",
    thumb: "images/thumbnails/belle/bugambilya.png",
    title: "Bugambilya",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "For Your Eyes Only.mp4",
    thumb: "images/thumbnails/belle/for your eyes only.png",
    title: "For Your Eyes Only",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Kahit na, Kahit pa.mp4",
    thumb: "images/thumbnails/belle/kahit na, kahit pa.png",
    title: "Kahit na, Kahit pa",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Rise.mp4",
    thumb: "images/thumbnails/belle/rise up.png",
    title: "Rise",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Roadtrip.mp4",
    thumb: "images/thumbnails/belle/roadtrip.png",
    title: "Roadtrip",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Sigurado.mp4",
    thumb: "images/thumbnails/belle/sigurado.png",
    title: "Sigurado",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Somber And Solemn.mp4",
    thumb: "images/thumbnails/belle/somber and solemn.png",
    title: "Somber And Solemn",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Tanging Dahilan.mp4",
    thumb: "images/thumbnails/belle/tanging dahilan.png",
    title: "Tanging Dahilan",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "With You.mp4",
    thumb: "images/thumbnails/belle/with you.png",
    title: "With You",
    uploader: "Belle Mariano",
    views: "0 views",
    date: "4 days"
  },
  //ben&ben
  {
    src: "Araw-Araw.mp4",
    thumb: "images/thumbnails/ben&ben/araw-araw.jpg",
    title: "Araw-Araw",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Courage.mp4",
    thumb: "images/thumbnails/ben&ben/courage.jpg",
    title: "Courage",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Lifetime.mp4",
    thumb: "images/thumbnails/ben&ben/lifetime.jpg",
    title: "Lifetime",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Make It With You.mp4",
    thumb: "images/thumbnails/ben&ben/make it with you.jpg",
    title: "Make It With You",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Maybe The Night.mp4",
    thumb: "images/thumbnails/ben&ben/maybe the night.jpg",
    title: "Maybe The Night",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Pagtingin.mp4",
    thumb: "images/thumbnails/ben&ben/pagtingin.jpg",
    title: "Pagtingin",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Paninindigan Kita .mp4",
    thumb: "images/thumbnails/ben&ben/paninindigan kita.jpg",
    title: "Paninindigan Kita",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Saranggola.mp4",
    thumb: "images/thumbnails/ben&ben/saranggola.jpg",
    title: "Saranggola",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Sa Susunod Na Habang Buhay.mp4",
    thumb: "images/thumbnails/ben&ben/ssnhb.jpg",
    title: "Sa Susunod Na Habang Buhay",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Upuan.mp4",
    thumb: "images/thumbnails/ben&ben/upuan.jpg",
    title: "Upuan",
    uploader: "Ben&Ben",
    views: "0 views",
    date: "4 days"
  },
// tj
  {
    src: "Mahika.mp4",
    thumb: "images/thumbnails/tj monterde/mahika.jpg",
    title: "Mahika",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Little Paradise.mp4",
    thumb: "images/thumbnails/tj monterde/little paradise.jpg",
    title: "Little Paradise",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Dating Tayo.mp4",
    thumb: "images/thumbnails/tj monterde/dating tayo.jpg",
    title: "Dating Tayo",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "NOWHERE.mp4",
    thumb: "images/thumbnails/tj monterde/nowhere.jpg",
    title: "Nowhere",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "PALAGI.mp4",
    thumb: "images/thumbnails/tj monterde/palagi.jpg",
    title: "Palagi",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Plano.mp4",
    thumb: "images/thumbnails/tj monterde/plano.jpg",
    title: "Plano",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "SARILING MUNDO.mp4",
    thumb: "images/thumbnails/tj monterde/sariling mundo.jpg",
    title: "Sariling Mundo",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "SIGURADOTJ.mp4",
    thumb: "images/thumbnails/tj monterde/sigurado.jpg",
    title: "Sigurado",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "WALONG BILYON.mp4",
    thumb: "images/thumbnails/tj monterde/walong bilyon.jpg",
    title: "Walong Bilyon",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "Kung Siya Man.mp4",
    thumb: "images/thumbnails/tj monterde/kung siya man.jpg",
    title: "Kung Siya Man",
    uploader: "TJ Monterde",
    views: "0 views",
    date: "4 days"
  },
  //Sugarcane
  { 
    src: "dalangin.mp4",
    thumb: "images/thumbnails/Sugarcane/dalangin.jpg",
    title: "Dalangin",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "gunita.mp4",
    thumb: "images/thumbnails/Sugarcane/gunita.jpg",
    title: "Gunita",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "kungmagingakinka.mp4",
    thumb: "images/thumbnails/Sugarcane/kung maging akin ka.jpg",
    title: "Kung Maging Akin Ka",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "leonora.mp4",
    thumb: "images/thumbnails/Sugarcane/Leonora.jpg",
    title: "Leonora",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "mariaclara.mp4",
    thumb: "images/thumbnails/Sugarcane/Maria Clara.jpg",
    title: "Maria Clara",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "memory.mp4",
    thumb: "images/thumbnails/Sugarcane/memory.jpg",
    title: "Memory",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "paruparo.mp4",
    thumb: "images/thumbnails/Sugarcane/Paruparo.jpg",
    title: "Paruparo",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "reside.mp4",
    thumb: "images/thumbnails/Sugarcane/reside.jpg",
    title: "Reside",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "sinehan.mp4",
    thumb: "images/thumbnails/Sugarcane/sinehan.jpg",
    title: "Sinehan",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "tangingikaw.mp4",
    thumb: "images/thumbnails/Sugarcane/tanging ikaw.jpg",
    title: "Tanging Ikaw",
    uploader: "Sugarcane",
    views: "0 views",
    date: "4 days"
  },
  //bts
  { 
    src: "butter.mp4",
    thumb: "images/thumbnails/bts/butter.jpg",
    title: "Butter",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "dimple.mp4",
    thumb: "images/thumbnails/bts/dimple.jpg",
    title: "Dimple",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "dynamite.mp4",
    thumb: "images/thumbnails/bts/dynamite.jpg",
    title: "Dynamite",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "euphoria.mp4",
    thumb: "images/thumbnails/bts/euphoria.jpg",
    title: "Euphoria",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "life goes on.mp4",
    thumb: "images/thumbnails/bts/life goes on.jpg",
    title: "Life Goes On",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "magic shop.mp4",
    thumb: "images/thumbnails/bts/magic shop.jpg",
    title: "Magic Shop",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "mikrokosmos.mp4",
    thumb: "images/thumbnails/bts/mikrokosmos.jpg",
    title: "Mikrokosmos",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "permission to dance.mp4",
    thumb: "images/thumbnails/bts/permission to dance.jpg",
    title: "Permission To Dance",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "spring day.mp4",
    thumb: "images/thumbnails/bts/spring day.jpg",
    title: "Spring Day",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  },
  {
    src: "run.mp4",
    thumb: "images/thumbnails/bts/run.jpg",
    title: "Run",
    uploader: "BTS",
    views: "0 views",
    date: "4 days"
  }
];

// read video id from querystring (1-based)
const params = new URLSearchParams(window.location.search);
let currentID = parseInt(params.get("video"), 10) - 1;
if (isNaN(currentID) || currentID < 0 || currentID >= videoData.length) currentID = 0;
// Helpers
function encodePath(p) { return encodeURI(p); }

// load main player
const mainPlayer = document.getElementById("main-player");
function loadMainVideo(id) {
    currentID = id;
    const data = videoData[id];

    mainPlayer.innerHTML = "";

    // create video element
    const video = document.createElement("video");
    video.src = encodeURI(data.src);
    video.controls = true;
    video.autoplay = true;
    video.playsInline = true;
    video.style.width = "100%";
    video.style.borderRadius = "10px";
    mainPlayer.appendChild(video);

    // create video info container
    const infoDiv = document.createElement("div");
    infoDiv.className = "video-info";

    const title = document.createElement("h2");
    title.textContent = data.title;
    infoDiv.appendChild(title);

    const uploader = document.createElement("p");
    uploader.textContent = data.uploader;
    infoDiv.appendChild(uploader);

    const viewsDate = document.createElement("p");
    viewsDate.textContent = `${data.views} • ${data.date}`;
    infoDiv.appendChild(viewsDate);

    mainPlayer.appendChild(infoDiv);
}

// build right sidebar thumbnails (exclude current, keep clickable)
function buildSidebar() {
    sidebar.innerHTML = "";
    videoData.forEach((data, i) => {
        if (i === currentID) return; // skip current video

        const wrapper = document.createElement("div");
        wrapper.className = "side-thumb";

        // thumbnail image
        const img = document.createElement("img");
        img.src = encodeURI(data.thumb);
        img.alt = `thumb-${i + 1}`;
        img.addEventListener("click", () => {
            loadMainVideo(i);      // load video without reloading page
            buildSidebar();        // refresh sidebar
        });
        wrapper.appendChild(img);

        // info container
        const infoDiv = document.createElement("div");
        infoDiv.className = "side-info";

        const title = document.createElement("div");
        title.className = "side-title";
        title.textContent = data.title;
        infoDiv.appendChild(title);

        const uploader = document.createElement("div");
        uploader.className = "side-uploader";
        uploader.textContent = data.uploader;
        infoDiv.appendChild(uploader);

        const viewsDate = document.createElement("div");
        viewsDate.className = "side-views-date";
        viewsDate.textContent = `${data.views} • ${data.date}`;
        infoDiv.appendChild(viewsDate);

        wrapper.appendChild(infoDiv);
        sidebar.appendChild(wrapper);
    });
}


loadMainVideo(currentID);
buildSidebar();